<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    {% extends 'base.html' %}

{% block title %}–ü—É–±–ª–∏—á–Ω—ã–µ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–º–æ–Ω—Ç{% endblock %}

{% block content %}
<div class="card">
    <h1 style="margin-bottom: 30px; color: #333;">–í—Å–µ –∑–∞—è–≤–∫–∏</h1>

    {% if repair_requests %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px;">
            {% for request in repair_requests %}
            <div style="background: white; border: 2px solid #e9ecef; border-radius: 12px; padding: 20px; transition: all 0.3s ease;">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                    <h3 style="margin: 0; color: #333; flex: 1; font-size: 18px;">{{ request.title }}</h3>
                    <span style="padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; background: #d4edda; color: #155724;">
                        –ù–æ–≤–∞—è
                    </span>
                </div>

                <div style="margin-bottom: 12px;">
                    <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                        <strong>–ö–ª–∏–µ–Ω—Ç:</strong> {{ request.client.user.username }}
                    </div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                        <strong>–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</strong> {{ request.client.get_car_info }}
                    </div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                        <strong>–°–æ–∑–¥–∞–Ω–∞:</strong> {{ request.created_at|date:"d.m.Y H:i" }}
                    </div>
                    <div style="font-size: 14px; color: #333; margin-bottom: 8px; line-height: 1.4;">
                        {{ request.description|truncatewords:25 }}
                    </div>
                    {% if request.desired_price %}
                    <div style="font-size: 18px; font-weight: bold; color: #28a745;">
                        {{ request.desired_price }} —Ä—É–±.
                    </div>
                    {% endif %}
                </div>

                {% if request.photo %}
                <div style="margin-bottom: 12px;">
                    <img src="{{ request.photo.url }}" alt="–§–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px;">
                </div>
                {% endif %}

                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="flex: 1; text-align: center; padding: 8px;" onclick="alert('–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞—è–≤–∫–∏')">
                        ‚úÖ –ü—Ä–∏–Ω—è—Ç—å –∑–∞—è–≤–∫—É
                    </button>
                    <button class="btn btn-secondary" style="flex: 1; text-align: center; padding: 8px;" onclick="alert('–§—É–Ω–∫—Ü–∏—è —Å–≤—è–∑–∏ —Å –∫–ª–∏–µ–Ω—Ç–æ–º')">
                        üí¨ –°–≤—è–∑–∞—Ç—å—Å—è
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 60px 20px;">
            <div style="font-size: 4em; margin-bottom: 20px;">üì≠</div>
            <h2 style="color: #666; margin-bottom: 15px;">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞—è–≤–æ–∫</h2>
            <p style="color: #999; margin-bottom: 30px;">–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –Ω–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–µ–º–æ–Ω—Ç</p>
        </div>
    {% endif %}
</div>
{% endblock %}
</body>
</html>